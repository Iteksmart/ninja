<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperNinja AI - Admin Dashboard</title>
    <link rel="stylesheet" href="css/admin-style.css">
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>ü•∑ SuperNinja</h2>
                <p>Admin Dashboard</p>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#dashboard" class="nav-link active" data-section="dashboard">üìä Dashboard</a></li>
                    <li><a href="#api-keys" class="nav-link" data-section="api-keys">üîë API Keys</a></li>
                    <li><a href="#users" class="nav-link" data-section="users">üë• Users</a></li>
                    <li><a href="#agents" class="nav-link" data-section="agents">ü§ñ Agents</a></li>
                    <li><a href="#virtual-computers" class="nav-link" data-section="virtual-computers">üíª VMs</a></li>
                    <li><a href="#analytics" class="nav-link" data-section="analytics">üìà Analytics</a></li>
                    <li><a href="#logs" class="nav-link" data-section="logs">üìã Logs</a></li>
                    <li><a href="#settings" class="nav-link" data-section="settings">‚öôÔ∏è Settings</a></li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <button class="logout-btn" onclick="logout()">üö™ Logout</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="content-header">
                <div class="header-left">
                    <h1 id="section-title">Dashboard</h1>
                    <p id="section-subtitle">System overview and statistics</p>
                </div>
                <div class="header-right">
                    <div class="status-indicator online">‚óè System Online</div>
                    <button class="refresh-btn" onclick="refreshData()">üîÑ Refresh</button>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-content">
                            <h3 id="total-users">0</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üíª</div>
                        <div class="stat-content">
                            <h3 id="active-vms">0</h3>
                            <p>Active VMs</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-content">
                            <h3 id="total-requests">0</h3>
                            <p>Total Requests</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ü§ñ</div>
                        <div class="stat-content">
                            <h3 id="active-agents">0</h3>
                            <p>Active Agents</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Recent Users</h3>
                        <div id="recent-users" class="user-list">
                            <!-- Users will be populated here -->
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <h3>Agent Status</h3>
                        <div id="agent-status" class="agent-list">
                            <!-- Agent status will be populated here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- API Keys Section -->
            <section id="api-keys-section" class="content-section">
                <div class="section-header">
                    <h2>API Keys Management</h2>
                    <button class="btn-primary" onclick="showAddApiKeyModal()">‚ûï Add API Key</button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Provider</th>
                                <th>Model</th>
                                <th>Category</th>
                                <th>Status</th>
                                <th>Usage</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="api-keys-table">
                            <!-- API keys will be populated here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users-section" class="content-section">
                <div class="section-header">
                    <h2>User Management</h2>
                    <div class="search-box">
                        <input type="text" id="user-search" placeholder="Search users...">
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>API Key</th>
                                <th>Usage</th>
                                <th>VM Status</th>
                                <th>Last Active</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-table">
                            <!-- Users will be populated here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Agents Section -->
            <section id="agents-section" class="content-section">
                <div class="section-header">
                    <h2>Agent Management</h2>
                    <button class="btn-primary" onclick="refreshAgents()">üîÑ Refresh Agents</button>
                </div>
                <div class="agents-grid">
                    <!-- Agents will be populated here -->
                </div>
            </section>

            <!-- Virtual Computers Section -->
            <section id="virtual-computers-section" class="content-section">
                <div class="section-header">
                    <h2>Virtual Computers</h2>
                    <button class="btn-primary" onclick="refreshVMs()">üîÑ Refresh VMs</button>
                </div>
                <div class="vm-grid">
                    <!-- VMs will be populated here -->
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics-section" class="content-section">
                <div class="section-header">
                    <h2>System Analytics</h2>
                    <select id="analytics-period">
                        <option value="24h">Last 24 Hours</option>
                        <option value="7d">Last 7 Days</option>
                        <option value="30d">Last 30 Days</option>
                    </select>
                </div>
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Request Volume</h3>
                        <canvas id="request-chart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Agent Performance</h3>
                        <canvas id="agent-chart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>User Activity</h3>
                        <canvas id="activity-chart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Resource Usage</h3>
                        <canvas id="resource-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Logs Section -->
            <section id="logs-section" class="content-section">
                <div class="section-header">
                    <h2>System Logs</h2>
                    <div class="log-filters">
                        <select id="log-level">
                            <option value="all">All Levels</option>
                            <option value="error">Errors</option>
                            <option value="warn">Warnings</option>
                            <option value="info">Info</option>
                        </select>
                        <button class="btn-secondary" onclick="clearLogs()">Clear Logs</button>
                    </div>
                </div>
                <div class="logs-container">
                    <div id="logs-list">
                        <!-- Logs will be populated here -->
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="content-section">
                <div class="section-header">
                    <h2>System Settings</h2>
                    <button class="btn-primary" onclick="saveSettings()">üíæ Save Settings</button>
                </div>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>General Settings</h3>
                        <div class="setting-item">
                            <label>Max Users</label>
                            <input type="number" id="max-users" value="1000">
                        </div>
                        <div class="setting-item">
                            <label>Default VM Specs</label>
                            <select id="default-vm-specs">
                                <option value="basic">Basic (4CPU, 16GB RAM)</option>
                                <option value="standard" selected>Standard (8CPU, 32GB RAM)</option>
                                <option value="premium">Premium (16CPU, 64GB RAM)</option>
                            </select>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>API Settings</h3>
                        <div class="setting-item">
                            <label>Rate Limit (requests/15min)</label>
                            <input type="number" id="rate-limit" value="100">
                        </div>
                        <div class="setting-item">
                            <label>Max File Size (MB)</label>
                            <input type="number" id="max-file-size" value="100">
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>Security Settings</h3>
                        <div class="setting-item">
                            <label>Session Timeout (hours)</label>
                            <input type="number" id="session-timeout" value="24">
                        </div>
                        <div class="setting-item">
                            <label>Enable 2FA</label>
                            <input type="checkbox" id="enable-2fa">
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <div id="add-api-key-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add API Key</h3>
                <button class="close-btn" onclick="closeModal('add-api-key-modal')">&times;</button>
            </div>
            <form id="add-api-key-form">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" id="key-name" required>
                </div>
                <div class="form-group">
                    <label>Provider</label>
                    <select id="key-provider" required>
                        <option value="OpenAI">OpenAI</option>
                        <option value="Anthropic">Anthropic</option>
                        <option value="Google">Google</option>
                        <option value="NinjaTech">NinjaTech</option>
                        <option value="Meta">Meta</option>
                        <option value="Amazon">Amazon</option>
                        <option value="Grok">Grok</option>
                        <option value="DeepSeek">DeepSeek</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Model</label>
                    <input type="text" id="key-model" required>
                </div>
                <div class="form-group">
                    <label>Category</label>
                    <select id="key-category" required>
                        <option value="standard">Standard</option>
                        <option value="complex">Complex</option>
                        <option value="fast">Fast</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>API Key</label>
                    <input type="password" id="key-value" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('add-api-key-modal')">Cancel</button>
                    <button type="submit" class="btn-primary">Add API Key</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/admin-dashboard.js"></script>
</body>
</html>